# @angular-architects/module-federation

Seamlessly using Webpack Module Federation with the Angular CLI.

## Thanks

Big thanks to the following people who helped to make this possible:

- [Tobias Koppers](https://twitter.com/wSokra), Founder of Webpack
- [Dmitriy Shekhovtsov](https://twitter.com/valorkin), Angular GDE 

## Prequisites

- Angular CLI 11 (currently BETA)

## Motivation ğŸ’¥

Module Federation allows to load separately compiled and deployed code (like micro frontends or plugins) into an application. This plugin makes Module Federation work together with Angular and the CLI.

## Features ğŸ”¥

âœ… Generates the skeleton for a Module Federation config.

âœ… Installs a custom builder to enable Module Federation.

âœ… Assigning a new port to serve (``ng serve``) several projects at once. 

The module federation config is a **partial** webpack configuration. It only contains stuff to control module federation. The rest is generated by the CLI as usual.

## Usage ğŸ› ï¸

1. ``ng add @angular-architects/module-federation``
2. Adjust the generated ``webpack.config.js`` file
3. Repeat this for further projects in your workspace (if needed)

## Opting in into webpack 5 with CLI 11 ğŸ§

- You need to use **yarn** b/c it allows to override dependencies
    - Existing Projects: ``ng config -g cli.packageManager yarn``
    - New Projects: ``ng new workspace-name --packageManager yarn``

- Add this to your ``package.json`` (e. g. before the ``dependencies`` section) to force the CLI into webpack 5:

    ```json
    "resolutions": {
        "webpack": "^5.0.0"
    },
    ```

- Run **yarn** to install all packages

Please that the CLI's webpack 5 support is current experimental. 

## Example ğŸ“½ï¸

This [example](https://github.com/manfredsteyer/module-federation-plugin-example)
 loads a microfrontend into a shell:

![Microfrontend Loaded into Shell](https://github.com/angular-architects/module-federation-plugin/raw/main/packages/mf/tutorial/result.png)

Please have a look into the example's **readme**. It points you to the important aspects of using Module Federation.


## Tutorial ğŸ§ª

Please find here a [tutorial](https://github.com/angular-architects/module-federation-plugin/blob/main/packages/mf/tutorial/tutorial.md) that shows step by step how to introduce Module Federation into the above mentioned example.

![Microfrontend Loaded into Shell](https://github.com/angular-architects/module-federation-plugin/raw/main/packages/mf/tutorial/result.png)

[>> Start Tutorial](https://github.com/angular-architects/module-federation-plugin/blob/main/packages/mf/tutorial/tutorial.md)


## More Details on Module Federation ğŸ“°

Have a look at this [article series about Module Federation](https://www.angulararchitects.io/aktuelles/the-microfrontend-revolution-part-2-module-federation-with-angular/).

## Angular Trainings, Workshops, and Consulting ğŸ‘¨â€ğŸ«

- [Angular Trainings and Workshops](https://www.angulararchitects.io/en/angular-workshops/)
- [Angular Consulting](https://www.angulararchitects.io/en/consulting/)
